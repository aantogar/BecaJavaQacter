package ejerciciosBanco;

import java.util.ArrayList;
import java.util.Collection;
import java.util.List;

public  class Cuenta {
	private String titular;
	private String numero;
	private  List<Movimiento> movimientos=new ArrayList<Movimiento>();
	
	
	
	public Cuenta(String numero,String titular) {
		this.titular=titular;
		this.numero=numero;
	}
	public Cuenta() {
		
	}
	public  double getSaldo() {
		double r=0.0;
				for(Movimiento m: movimientos) {
					r+=m.getMiimporte();
				}
				return r;
}

	public void ingresar(double x)throws Exception {
		ingresar("Ingreso en efectivo: ",x);
	    }
		
	
	public void ingresar(String concepto, double x) throws Exception {
		if(x<=0)
			throw new Exception("No se ha podido ingresar la cantidad.");
		addMovimiento(concepto,x);
	
	}
	public void retirar(double x) throws Exception  {  
		retirar("Retirada de efectivo",x);
    		
	}
	public void retirar(String concepto, double x) throws Exception {
		if(x<=0) {
			System.out.println("El saldo es inferior");
		}if(getSaldo()<x) {
			System.out.println("No queda suficiente saldo");
		}else{
			addMovimiento(concepto,-x);
		}
		
	}
	

	public String getTitular() {
		return titular;
	}

	public void setTitular(String titular) {
		this.titular = titular;
	}

	public String getNumero() {
		return numero;
	}

	public void setNumero(String numero) {
		this.numero = numero;
	}

	public List<Movimiento> getMovimientos() {
		return  movimientos;
	}

	public void setMovimientos(List<Movimiento> movimientos) {
		this.movimientos = movimientos;
		
	}
	public void addMovimiento(String concepto,double x) {
		// TODO Auto-generated method stub
		Movimiento m=new Movimiento();
		m.setConcepto(concepto);
		m.setMiimporte(x);
		addMovimiento(m);
		
	}
	private void addMovimiento(Movimiento m) {
		// TODO Auto-generated method stub
		addMovimiento(m);
		
	}

}
