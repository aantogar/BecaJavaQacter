package src.bancoAppPracticarJava;

import java.time.LocalDate;
import java.util.ArrayList;
import java.util.List;

public class Credito extends Tarjeta{
	private double mCredito;
	private List<Movimiento>mMovimientos=new ArrayList<Movimiento>();
	
	
	public Credito(String numero,String titular, LocalDate fechacaduc) {
		super(numero,titular,fechacaduc);
	}


	@Override
	public String toString() {
		return "Credito [mCredito=" + mCredito + ", mMovimientos=" + mMovimientos + ", getmCredito()=" + getmCreditoDisponible()
				+ ", getmFechaCaducidad()=" + getmFechaCaducidad() + ", getmNumero()=" + getmNumero()
				+ ", getmTitular()=" + getmTitular() + "]";
	}


	public double getmCreditoDisponible() {
		mCredito=0;
		for(Movimiento m: mMovimientos) {
			mCredito+=m.getmImporte();
		}
			
		return mCredito;
	}


	public void setmCredito(double mCredito) {
		this.mCredito = mCredito;
	}


	public List<Movimiento> getmMovimientos() {
		return mMovimientos;
	}


	public void setmMovimientos(List<Movimiento> mMovimientos) {
		this.mMovimientos = new ArrayList<Movimiento>(mMovimientos);
	}




	@Override
	public void retirar(String concepto, double x) {
		// TODO Auto-generated method stub
		super.retirar(concepto, x);
	}


	@Override
	public double getSaldo() {
		return super.getSaldo();
	}


	@Override
	public void ingresar(double x) throws Exception {
		Movimiento mov=new Movimiento();
		if(x>0) {
			ingresar(x);
			mCredito+=x;
		}
		mov.setmConcepto("Ingreso en cuenta asociada: ");
		mov.setmImporte(x);
		mMovimientos.add(mov);
		
	}


	@Override
	public void retirar(double x) {
		// TODO Auto-generated method stub
		super.retirar(x);
	}


	@Override
	public void pagoEnEstablecimiento(String datos, double x) {
		// TODO Auto-generated method stub
		super.pagoEnEstablecimiento(datos, x);
	}

}
